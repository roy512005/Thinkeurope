!function(o){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),o.requestAnimationFrame||function(){for(var i,e=["webkit","moz"],t=0;t<e.length&&!o.requestAnimationFrame;++t){var n=e[t];o.requestAnimationFrame=o[n+"RequestAnimationFrame"],o.cancelAnimationFrame=o[n+"CancelAnimationFrame"]||o[n+"CancelRequestAnimationFrame"]}!/iP(ad|hone|od).*OS 6/.test(o.navigator.userAgent)&&o.requestAnimationFrame&&o.cancelAnimationFrame||(i=0,o.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},o.cancelAnimationFrame=clearTimeout)}();var i=document.createElement("div");function e(e){var t=["O","Moz","ms","Ms","Webkit"],n=t.length;if(void 0!==i.style[e])return!0;for(e=e.charAt(0).toUpperCase()+e.substr(1);-1<--n&&void 0===i.style[t[n]+e];);return 0<=n}var g,f,a=e("transform"),r=e("perspective"),t=navigator.userAgent,l=-1<t.toLowerCase().indexOf("android"),s=/iPad|iPhone|iPod/.test(t)&&!o.MSStream,c=-1<t.toLowerCase().indexOf("firefox"),m=-1<t.indexOf("MSIE ")||-1<t.indexOf("Trident/")||-1<t.indexOf("Edge/"),p=document.all&&!o.atob;function u(){g=o.innerWidth||document.documentElement.clientWidth,f=o.innerHeight||document.documentElement.clientHeight}u();var d,h=[],y=(d=0,function(e,t){var n=this;n.$item=e,n.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:!1,noIos:!0,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null},e=JSON.parse(n.$item.getAttribute("data-jarallax")||"{}"),n.options=n.extend({},n.defaults,e,t),!a||l&&n.options.noAndroid||s&&n.options.noIos||(n.options.speed=Math.min(2,Math.max(-1,parseFloat(n.options.speed))),(t=n.options.elementInViewport)&&"object"==typeof t&&void 0!==t.length&&(t=t[0]),!t instanceof Element&&(t=null),n.options.elementInViewport=t,n.instanceID=d++,n.image={src:n.options.imgSrc||null,$container:null,$item:null,width:n.options.imgWidth||null,height:n.options.imgHeight||null,useImgTag:s||l||m,position:!r||c?"absolute":"fixed"},n.initImg()&&n.init())});function n(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,function(){n.call(e)})}function x(n){o.requestAnimationFrame(function(){"scroll"!==n.type&&u();for(var e=0,t=h.length;e<t;e++)"scroll"!==n.type&&(h[e].coverImage(),h[e].clipContainer()),h[e].onScroll()})}function v(e){("object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)&&(e=[e]);for(var t,n=arguments[1],i=Array.prototype.slice.call(arguments,2),o=e.length,a=0;a<o;a++)if("object"==typeof n||void 0===n?e[a].jarallax||(e[a].jarallax=new y(e[a],n)):e[a].jarallax&&(t=e[a].jarallax[n].apply(e[a].jarallax,i)),void 0!==t)return t;return e}y.prototype.css=function(e,t){if("string"==typeof t)return o.getComputedStyle?o.getComputedStyle(e).getPropertyValue(t):e.style[t];for(var n in t.transform&&(r&&(t.transform+=" translateZ(0)"),t.WebkitTransform=t.MozTransform=t.msTransform=t.OTransform=t.transform),t)e.style[n]=t[n];return e},y.prototype.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},y.prototype.initImg=function(){var e=this;return null===e.image.src&&(e.image.src=e.css(e.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!e.image.src||"none"===e.image.src)},y.prototype.init=function(){var n=this,e={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},t={};n.$item.setAttribute("data-jarallax-original-styles",n.$item.getAttribute("style")),"static"===n.css(n.$item,"position")&&n.css(n.$item,{position:"relative"}),"auto"===n.css(n.$item,"z-index")&&n.css(n.$item,{zIndex:0}),n.image.$container=document.createElement("div"),n.css(n.image.$container,e),n.css(n.image.$container,{visibility:"hidden","z-index":n.options.zIndex}),n.image.$container.setAttribute("id","jarallax-container-"+n.instanceID),n.$item.appendChild(n.image.$container),t=n.image.useImgTag?(n.image.$item=document.createElement("img"),n.image.$item.setAttribute("src",n.image.src),n.extend({"max-width":"none"},e,t)):(n.image.$item=document.createElement("div"),n.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+n.image.src+'")'},e,t));for(var i=0,o=n.$item;null!==o&&o!==document&&0===i;){var a=n.css(o,"-webkit-transform")||n.css(o,"-moz-transform")||n.css(o,"transform");a&&"none"!==a&&(i=1,n.css(n.image.$container,{transform:"translateX(0) translateY(0)"})),o=o.parentNode}function r(){n.coverImage(),n.clipContainer(),n.onScroll(!0),n.options.onInit&&n.options.onInit.call(n),setTimeout(function(){n.$item&&n.css(n.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)}!i&&"opacity"!==n.options.type&&"scale"!==n.options.type&&"scale-opacity"!==n.options.type||(n.image.position="absolute"),t.position=n.image.position,n.css(n.image.$item,t),n.image.$container.appendChild(n.image.$item),n.image.width&&n.image.height?r():n.getImageSize(n.image.src,function(e,t){n.image.width=e,n.image.height=t,r()}),h.push(n)},y.prototype.destroy=function(){for(var e=this,t=0,n=h.length;t<n;t++)if(h[t].instanceID===e.instanceID){h.splice(t,1);break}var i,o=e.$item.getAttribute("data-jarallax-original-styles");for(i in e.$item.removeAttribute("data-jarallax-original-styles"),"null"===o?e.$item.removeAttribute("style"):e.$item.setAttribute("style",o),e.$clipStyles&&e.$clipStyles.parentNode.removeChild(e.$clipStyles),e.image.$container.parentNode.removeChild(e.image.$container),e.options.onDestroy&&e.options.onDestroy.call(e),delete e.$item.jarallax,e)delete e[i]},y.prototype.getImageSize=function(e,t){var n;e&&t&&((n=new Image).onload=function(){t(n.width,n.height)},n.src=e)},y.prototype.clipContainer=function(){var e,t,n;p||(t=(n=(e=this).image.$container.getBoundingClientRect()).width,n=n.height,e.$clipStyles||(e.$clipStyles=document.createElement("style"),e.$clipStyles.setAttribute("type","text/css"),e.$clipStyles.setAttribute("id","#jarallax-clip-"+e.instanceID),(document.head||document.getElementsByTagName("head")[0]).appendChild(e.$clipStyles)),n=["#jarallax-container-"+e.instanceID+" {","   clip: rect(0 "+t+"px "+n+"px 0);","   clip: rect(0, "+t+"px, "+n+"px, 0);","}"].join("\n"),e.$clipStyles.styleSheet?e.$clipStyles.styleSheet.cssText=n:e.$clipStyles.innerHTML=n)},y.prototype.coverImage=function(){var e,t,n,i,o,a,r,l,s,c,m,p,u=this;u.image.width&&u.image.height&&(e=(r=u.image.$container.getBoundingClientRect()).width,t=r.height,n=r.left,i=u.image.width,o=u.image.height,a=u.options.speed,c=t,p=m=s=l=0,(r="scroll"===u.options.type||"scroll-opacity"===u.options.type)&&(l=a<0?a*Math.max(t,f):a*(t+f),1<a?c=Math.abs(l-f):a<0?c=l/a+Math.abs(l):c+=Math.abs(f-t)*(1-a),l/=2),(s=c*i/o)<e&&(c=(s=e)*o/i),p=r?(m=n+(e-s)/2,(f-c)/2):(m=(e-s)/2,(t-c)/2),"absolute"===u.image.position&&(m-=n),u.parallaxScrollDistance=l,u.css(u.image.$item,{width:s+"px",height:c+"px",marginLeft:m+"px",marginTop:p+"px"}),u.options.onCoverImage&&u.options.onCoverImage.call(u))},y.prototype.isVisible=function(){return this.isElementInViewport||!1},y.prototype.onScroll=function(e){var t,n,i,o,a,r,l,s,c,m,p,u,d=this;d.image.width&&d.image.height&&(n=(t=d.$item.getBoundingClientRect()).top,i=t.height,o={visibility:"visible",backgroundPosition:"50% 50%"},p=t,d.options.elementInViewport&&(p=d.options.elementInViewport.getBoundingClientRect()),d.isElementInViewport=0<=p.bottom&&0<=p.right&&p.top<=f&&p.left<=g,(e||d.isElementInViewport)&&(a=Math.max(0,n),r=Math.max(0,i+n),l=Math.max(0,-n),s=Math.max(0,n+i-f),c=Math.max(0,i-(n+i-f)),m=Math.max(0,-n+f-i),p=1-2*(f-n)/(f+i),e=1,i<f?e=1-(l||s)/i:r<=f?e=r/f:c<=f&&(e=c/f),"opacity"!==d.options.type&&"scale-opacity"!==d.options.type&&"scroll-opacity"!==d.options.type||(o.transform="",o.opacity=e),"scale"!==d.options.type&&"scale-opacity"!==d.options.type||(u=1,d.options.speed<0?u-=d.options.speed*e:u+=d.options.speed*(1-e),o.transform="scale("+u+")"),"scroll"!==d.options.type&&"scroll-opacity"!==d.options.type||(u=d.parallaxScrollDistance*p,"absolute"===d.image.position&&(u-=n),o.transform="translateY("+u+"px)"),d.css(d.image.$item,o),d.options.onScroll&&d.options.onScroll.call(d,{section:t,beforeTop:a,beforeTopEnd:r,afterTop:l,beforeBottom:s,beforeBottomEnd:c,afterBottom:m,visiblePercent:e,fromViewportCenter:p})))},n(o,"scroll",x),n(o,"resize",x),n(o,"orientationchange",x),n(o,"load",x),v.constructor=y;var $,b=o.jarallax;o.jarallax=v,o.jarallax.noConflict=function(){return o.jarallax=b,this},"undefined"!=typeof jQuery&&((t=function(){var e=arguments||[];Array.prototype.unshift.call(e,this);e=v.apply(o,e);return"object"!=typeof e?e:this}).constructor=y,$=jQuery.fn.jarallax,jQuery.fn.jarallax=t,jQuery.fn.jarallax.noConflict=function(){return jQuery.fn.jarallax=$,this}),n(o,"DOMContentLoaded",function(){v(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window);